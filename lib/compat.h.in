#ifndef CONFIG_PRIV_H_
#define CONFIG_PRIV_H_

#cmakedefine ENDIAN_H "@ENDIAN_H@"
#cmakedefine HAVE_RAND48_R

#include "system_header_compat.h"

#ifndef HAVE_RAND48_R
struct drand48_data {
	union {
		unsigned short xseed[3];
		long lseed;
	} u;
};

#define srand48_r(seedval, buffer) \
	do { \
		(buffer)->u.lseed = (seedval); \
	} while (0)

#define lrand48_r(buffer, result) \
	do { \
		*(result) = nrand48((buffer)->u.xseed); \
	} while(0)

#endif /* HAVE_RAND48_R */

#if !defined(HAVE_HTOBE64) && defined(__APPLE__)

#include <machine/endian.h>
#include <libkern/OSByteOrder.h>

#define htobe64(x) OSSwapHostToBigInt64(x)
#define be64toh(x) OSSwapBigToHostInt64(x)

#endif /* HAVE_HTOBE64 */

#endif /* CONFIG_PRIV_H_ */
