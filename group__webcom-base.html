<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Webcom C SDK: Create a base context without libev (the hard way)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Webcom C SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Create a base context without libev (the hard way)<div class="ingroups"><a class="el" href="group__hilev.html">Webcom SDK end-user API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwc__pollargs.html">wc_pollargs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwc__timerargs.html">wc_timerargs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwc__context__options.html">wc_context_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5a90a712fe7b67d6a3dee189e5949b15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga5a90a712fe7b67d6a3dee189e5949b15">WC_POLLHUP</a>&#160;&#160;&#160;(POLLHUP|POLLERR)</td></tr>
<tr class="separator:ga5a90a712fe7b67d6a3dee189e5949b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3162bad9c06c3df6fec5d31b3cee69f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga3162bad9c06c3df6fec5d31b3cee69f2">WC_POLLIN</a>&#160;&#160;&#160;(POLLIN)</td></tr>
<tr class="separator:ga3162bad9c06c3df6fec5d31b3cee69f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad291a0d33c90857b87b5b9b786856d59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#gad291a0d33c90857b87b5b9b786856d59">WC_POLLOUT</a>&#160;&#160;&#160;(POLLOUT)</td></tr>
<tr class="separator:gad291a0d33c90857b87b5b9b786856d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1643065040709ab85f2ec7cb0c161b23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga1643065040709ab85f2ec7cb0c161b23">WC_BASE_EVENT_OFFSET</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:ga1643065040709ab85f2ec7cb0c161b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b68e3d1fedcd09815497449416b0440"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga0b68e3d1fedcd09815497449416b0440">WC_DATASYNC_EVENT_OFFSET</a>&#160;&#160;&#160;0x00000100</td></tr>
<tr class="separator:ga0b68e3d1fedcd09815497449416b0440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0c3f5dbcfa6922ae50262e32327dc67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#gab0c3f5dbcfa6922ae50262e32327dc67">WC_AUTH_EVENT_OFFSET</a>&#160;&#160;&#160;0x00010000</td></tr>
<tr class="separator:gab0c3f5dbcfa6922ae50262e32327dc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga20cd8e3af6134f9737c7a3de29c247d5"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga20cd8e3af6134f9737c7a3de29c247d5">wc_on_event_cb_t</a>) (<a class="el" href="group__webcom-base.html#ga782706fe9c7d1cab7a27247d0e537d7a">wc_event_t</a> event, <a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *ctx, void *data, size_t len)</td></tr>
<tr class="separator:ga20cd8e3af6134f9737c7a3de29c247d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac752952e6dbe1ee301a654ce2053526a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#gac752952e6dbe1ee301a654ce2053526a">wc_pollsrc</a> { <a class="el" href="group__webcom-base.html#ggac752952e6dbe1ee301a654ce2053526aa48d7407ae820aac64e062aba382f81d7">WC_POLL_DATASYNC</a>, 
<a class="el" href="group__webcom-base.html#ggac752952e6dbe1ee301a654ce2053526aac84bb839f24881fbfe98ee6ef1149a82">WC_POLL_AUTH</a>, 
<a class="el" href="group__webcom-base.html#ggac752952e6dbe1ee301a654ce2053526aa3f0d4292849df87a494277115308567a">_WC_POLL_MAX</a>
 }</td></tr>
<tr class="separator:gac752952e6dbe1ee301a654ce2053526a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d9103e71dd5c32e883baaca1593f0aa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga9d9103e71dd5c32e883baaca1593f0aa">wc_timersrc</a> { <a class="el" href="group__webcom-base.html#gga9d9103e71dd5c32e883baaca1593f0aaa570b7eabec7638ab0f1ab9d6b560ed24">WC_TIMER_DATASYNC_KEEPALIVE</a>, 
<a class="el" href="group__webcom-base.html#gga9d9103e71dd5c32e883baaca1593f0aaa4d5a62a631b0254562241b41a4855068">WC_TIMER_DATASYNC_RECONNECT</a>, 
<a class="el" href="group__webcom-base.html#gga9d9103e71dd5c32e883baaca1593f0aaaef79cd09c32158961fd912a10b4ed43a">WC_TIMER_AUTH</a>, 
<a class="el" href="group__webcom-base.html#gga9d9103e71dd5c32e883baaca1593f0aaa62b29e512bae58d114b76bce76fad3d5">_WC_TIMER_MAX</a>
 }</td></tr>
<tr class="separator:ga9d9103e71dd5c32e883baaca1593f0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga782706fe9c7d1cab7a27247d0e537d7a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga782706fe9c7d1cab7a27247d0e537d7a">wc_event_t</a> { <br />
&#160;&#160;<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aad85af630fb5c040289ab3926287d8580">WC_EVENT_ADD_FD</a> = WC_BASE_EVENT_OFFSET, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aa10a8e8aa930b7f9821f8edc34b70132a">WC_EVENT_DEL_FD</a>, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aa31d84b7fb322294255aa251ad0d9984e">WC_EVENT_MODIFY_FD</a>, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aaecbb25671a6ebf09fd8f1447e615fbf2">WC_EVENT_SET_TIMER</a>, 
<br />
&#160;&#160;<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aa1e168618415f8ec4c3d6280c7704d189">WC_EVENT_DEL_TIMER</a>, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aaae283bd9cdb23724b55c167091d20c6d">WC_EVENT_ON_CNX_CLOSED</a> = WC_DATASYNC_EVENT_OFFSET, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aa6cda9a523e742ce7afeb6c3eb0fb7846">WC_EVENT_ON_SERVER_HANDSHAKE</a>, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aa744256c9921e8ae348dbd3fefb15850b">WC_EVENT_ON_MSG_RECEIVED</a>, 
<br />
&#160;&#160;<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aafc25ac4934c36b8d21cab5a4449808d3">WC_EVENT_ON_CNX_ERROR</a>, 
<a class="el" href="group__webcom-base.html#gga782706fe9c7d1cab7a27247d0e537d7aaaf47f8543d0adc497ab707d3575fa44a">WC_AUTH_ON_AUTH_REPLY</a> = WC_AUTH_EVENT_OFFSET
<br />
 }</td></tr>
<tr class="separator:ga782706fe9c7d1cab7a27247d0e537d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga336e7136e57b34dde65d468f99bee147"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga336e7136e57b34dde65d468f99bee147">wc_dispatch_fd_event</a> (<a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *ctx, struct <a class="el" href="structwc__pollargs.html">wc_pollargs</a> *pa)</td></tr>
<tr class="separator:ga336e7136e57b34dde65d468f99bee147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83fbc9c0172abc5ad5aa6d52d5852e85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga83fbc9c0172abc5ad5aa6d52d5852e85">wc_dispatch_timer_event</a> (<a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *ctx, enum <a class="el" href="group__webcom-base.html#ga9d9103e71dd5c32e883baaca1593f0aa">wc_timersrc</a> timer)</td></tr>
<tr class="separator:ga83fbc9c0172abc5ad5aa6d52d5852e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25ab58b8d703dc3223a9bf3a3284a03d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga25ab58b8d703dc3223a9bf3a3284a03d">wc_context_get_user_data</a> (<a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *ctx)</td></tr>
<tr class="separator:ga25ab58b8d703dc3223a9bf3a3284a03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3853f46f52185668538bdb25e6ccbd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#gae3853f46f52185668538bdb25e6ccbd8">wc_context_create</a> (struct <a class="el" href="structwc__context__options.html">wc_context_options</a> *options)</td></tr>
<tr class="separator:gae3853f46f52185668538bdb25e6ccbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3102ec8e7171513da15e7c154bb31ec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-base.html#ga3102ec8e7171513da15e7c154bb31ec6">wc_context_destroy</a> (<a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *ctx)</td></tr>
<tr class="separator:ga3102ec8e7171513da15e7c154bb31ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This SDK is fundamentally asynchronous, and is meant to be easily used in a mono-threaded application. The logic to achieve this is quite complex, and if you don't mind to depend on libev, there is no need to manually deal with any of the operations and concepts described below, go directly to the <a class="el" href="group__webcom-libev.html">"connect with libev" </a> section.</p>
<p>If you don't plan to rely on libev, here are the steps and logic to implement :</p>
<h2>Populate a <code><a class="el" href="structwc__context__options.html">wc_context_options</a></code> structure :</h2>
<p>The <code><a class="el" href="structwc__context__options.html#aaead1d15bb63a8a5cb41acadd5c3f4c4">wc_context_options::callback</a></code> field must contain a pointer to a function you have defined (of type <code>wc_on_event_cb_t</code>) in your code, and that will be triggered by the SDK when various events happen (see <code>wc_event_t</code>).</p>
<h2>Keep track of the requested file descriptors and timers</h2>
<p>Whenever the SDK needs a file descriptor to be monitored for certain events, or a timer to be set, it will trigger the callback with the appropriate event and informations. For example, if the datasync part of the SDK needs the file descriptor 42 to be monitored for read and write availability, the callback will be called with the <b>WC_EVENT_ADD_FD</b> event, and the <b>data</b> parameter will point to a <code><a class="el" href="structwc__pollargs.html">wc_pollargs</a></code> structure containing the following informations:</p>
<div class="fragment"><div class="line">{</div><div class="line">    .fd = 42,</div><div class="line">    .events = <a class="code" href="group__webcom-base.html#ga3162bad9c06c3df6fec5d31b3cee69f2">WC_POLLIN</a> | <a class="code" href="group__webcom-base.html#gad291a0d33c90857b87b5b9b786856d59">WC_POLLOUT</a>,</div><div class="line">    .src = <a class="code" href="group__webcom-base.html#ggac752952e6dbe1ee301a654ce2053526aa48d7407ae820aac64e062aba382f81d7">WC_POLL_DATASYNC</a>,</div><div class="line">}</div></div><!-- fragment --><p>To properly keep track of these events, an event-loop based on a <code>poll</code>-like mechanism needs to be implemented. This can be achieved by manually using <code>poll</code>, <code>epoll</code>, <code>kqueue</code>, ...</p>
<h2>Inform the SDK whenever an event (I/O, timer) occurs</h2>
<p>When a timer expires or a requested operation is available on a file descriptor, the appropriate methods must be called right away:</p><ul>
<li><a class="el" href="group__webcom-base.html#ga83fbc9c0172abc5ad5aa6d52d5852e85">wc_dispatch_timer_event()</a> if a timer expired</li>
<li><a class="el" href="group__webcom-base.html#ga336e7136e57b34dde65d468f99bee147">wc_dispatch_fd_event()</a> if an I/O event occurred </li>
</ul>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab0c3f5dbcfa6922ae50262e32327dc67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0c3f5dbcfa6922ae50262e32327dc67">&#9670;&nbsp;</a></span>WC_AUTH_EVENT_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WC_AUTH_EVENT_OFFSET&#160;&#160;&#160;0x00010000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga1643065040709ab85f2ec7cb0c161b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1643065040709ab85f2ec7cb0c161b23">&#9670;&nbsp;</a></span>WC_BASE_EVENT_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WC_BASE_EVENT_OFFSET&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0b68e3d1fedcd09815497449416b0440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b68e3d1fedcd09815497449416b0440">&#9670;&nbsp;</a></span>WC_DATASYNC_EVENT_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WC_DATASYNC_EVENT_OFFSET&#160;&#160;&#160;0x00000100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5a90a712fe7b67d6a3dee189e5949b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a90a712fe7b67d6a3dee189e5949b15">&#9670;&nbsp;</a></span>WC_POLLHUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WC_POLLHUP&#160;&#160;&#160;(POLLHUP|POLLERR)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3162bad9c06c3df6fec5d31b3cee69f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3162bad9c06c3df6fec5d31b3cee69f2">&#9670;&nbsp;</a></span>WC_POLLIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WC_POLLIN&#160;&#160;&#160;(POLLIN)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad291a0d33c90857b87b5b9b786856d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad291a0d33c90857b87b5b9b786856d59">&#9670;&nbsp;</a></span>WC_POLLOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WC_POLLOUT&#160;&#160;&#160;(POLLOUT)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga20cd8e3af6134f9737c7a3de29c247d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20cd8e3af6134f9737c7a3de29c247d5">&#9670;&nbsp;</a></span>wc_on_event_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* wc_on_event_cb_t) (<a class="el" href="group__webcom-base.html#ga782706fe9c7d1cab7a27247d0e537d7a">wc_event_t</a> event, <a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *ctx, void *data, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This defines the callback type that must be passed to wc_cnx_new(). It will be called for the events listed in the wc_event_t enum. When triggered, the callback will receive these parameters:</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>(mandatory) the event type that was triggered </td></tr>
    <tr><td class="paramname">ctx</td><td>(mandatory) the context on which the event occurred </td></tr>
    <tr><td class="paramname">data</td><td>(optional) some additional data about the event </td></tr>
    <tr><td class="paramname">len</td><td>(optional) the size of the additional data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value to return to the C SDK </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga782706fe9c7d1cab7a27247d0e537d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga782706fe9c7d1cab7a27247d0e537d7a">&#9670;&nbsp;</a></span>wc_event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__webcom-base.html#ga782706fe9c7d1cab7a27247d0e537d7a">wc_event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aad85af630fb5c040289ab3926287d8580"></a>WC_EVENT_ADD_FD&#160;</td><td class="fielddoc"><p>WC_EVENT_ADD_FD. </p>
<p>This event indicates that a new file descriptor should be polled for some given events. <code>data</code> is a pointer to a <code>struct <a class="el" href="structwc__pollargs.html">wc_pollargs</a></code> object that contains the details on the descriptor and events. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aa10a8e8aa930b7f9821f8edc34b70132a"></a>WC_EVENT_DEL_FD&#160;</td><td class="fielddoc"><p>WC_EVENT_DEL_FD. </p>
<p>This event indicates that a file descriptor should be removed from the poll set. <code>data</code> is a pointer to a <code>struct <a class="el" href="structwc__pollargs.html">wc_pollargs</a></code> object that contains the details on the descriptor. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aa31d84b7fb322294255aa251ad0d9984e"></a>WC_EVENT_MODIFY_FD&#160;</td><td class="fielddoc"><p>WC_EVENT_MODIFY_FD. </p>
<p>This event indicates that the events to poll for an already polled file file descriptor must be changed. <code>data</code> is a pointer to a <code>struct <a class="el" href="structwc__pollargs.html">wc_pollargs</a></code> object that contains the details on the descriptor and events. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aaecbb25671a6ebf09fd8f1447e615fbf2"></a>WC_EVENT_SET_TIMER&#160;</td><td class="fielddoc"><p>WC_EVENT_SET_TIMER. </p>
<p>This event instructs that a timer whose properties are passed in data as a pointer to a <code>struct <a class="el" href="structwc__timerargs.html">wc_timerargs</a></code> object must be set and armed. When the timer fires, you must call the wc_handle_timer() function, with the appropriate wc_timersrc argument set. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aa1e168618415f8ec4c3d6280c7704d189"></a>WC_EVENT_DEL_TIMER&#160;</td><td class="fielddoc"><p>WC_EVENT_DEL_TIMER. </p>
<p>This event instructs that the timer whose identity is passed in data as a pointer to a <code>enum wc_timersrc</code> must be cancelled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aaae283bd9cdb23724b55c167091d20c6d"></a>WC_EVENT_ON_CNX_CLOSED&#160;</td><td class="fielddoc"><p>WC_EVENT_ON_CNX_CLOSED. </p>
<p>This event indicates that the connection passed as cnx to the callback was closed, either because the server has closed it, or because wc_cnx_close() was called. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aa6cda9a523e742ce7afeb6c3eb0fb7846"></a>WC_EVENT_ON_SERVER_HANDSHAKE&#160;</td><td class="fielddoc"><p>WC_EVENT_ON_SERVER_HANDSHAKE. </p>
<p>This event indicates that the webcom server has sent its handshake message. From this point, it's safe to start sending requests to the webcom server through this connection.</p>
<p>Return 1 to trigger automatic reconnection. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aa744256c9921e8ae348dbd3fefb15850b"></a>WC_EVENT_ON_MSG_RECEIVED&#160;</td><td class="fielddoc"><p>WC_EVENT_ON_MSG_RECEIVED. </p>
<p>This event indicates that a valid webcom message was received on the given connection. The parsed message pointer (<a class="el" href="structwc__msg__t.html">wc_msg_t</a> *) is passed as (void *)data to the callback. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aafc25ac4934c36b8d21cab5a4449808d3"></a>WC_EVENT_ON_CNX_ERROR&#160;</td><td class="fielddoc"><p>WC_EVENT_ON_CNX_ERROR. </p>
<p>This event indicates that an error occurred on the given connection. An additional error string of size len is given in data.</p>
<p>Return 1 to trigger automatic reconnection. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga782706fe9c7d1cab7a27247d0e537d7aaaf47f8543d0adc497ab707d3575fa44a"></a>WC_AUTH_ON_AUTH_REPLY&#160;</td><td class="fielddoc"><p>WC_AUTH_ON_AUTH_REPLY. </p>
<p>This event indicates that a reply to an authentication request is available. The details about the result is passed in data as a pointer to a <code>struct <a class="el" href="structwc__auth__info.html">wc_auth_info</a></code>. </p>
</td></tr>
</table>

</div>
</div>
<a id="gac752952e6dbe1ee301a654ce2053526a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac752952e6dbe1ee301a654ce2053526a">&#9670;&nbsp;</a></span>wc_pollsrc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__webcom-base.html#gac752952e6dbe1ee301a654ce2053526a">wc_pollsrc</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the origin of a poll event </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac752952e6dbe1ee301a654ce2053526aa48d7407ae820aac64e062aba382f81d7"></a>WC_POLL_DATASYNC&#160;</td><td class="fielddoc"><p>the event relates to the datasync socket </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac752952e6dbe1ee301a654ce2053526aac84bb839f24881fbfe98ee6ef1149a82"></a>WC_POLL_AUTH&#160;</td><td class="fielddoc"><p>the event relates to the authentication socket </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac752952e6dbe1ee301a654ce2053526aa3f0d4292849df87a494277115308567a"></a>_WC_POLL_MAX&#160;</td><td class="fielddoc"><p>special value, holds the actual number of possible socket event sources </p>
</td></tr>
</table>

</div>
</div>
<a id="ga9d9103e71dd5c32e883baaca1593f0aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d9103e71dd5c32e883baaca1593f0aa">&#9670;&nbsp;</a></span>wc_timersrc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__webcom-base.html#ga9d9103e71dd5c32e883baaca1593f0aa">wc_timersrc</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the origin of a timer event </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga9d9103e71dd5c32e883baaca1593f0aaa570b7eabec7638ab0f1ab9d6b560ed24"></a>WC_TIMER_DATASYNC_KEEPALIVE&#160;</td><td class="fielddoc"><p>the event relates to the datasync socket keepalive </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9d9103e71dd5c32e883baaca1593f0aaa4d5a62a631b0254562241b41a4855068"></a>WC_TIMER_DATASYNC_RECONNECT&#160;</td><td class="fielddoc"><p>the event relates to the datasync reconnection timer </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9d9103e71dd5c32e883baaca1593f0aaaef79cd09c32158961fd912a10b4ed43a"></a>WC_TIMER_AUTH&#160;</td><td class="fielddoc"><p>the event relates to the authentication HTTP request handling </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9d9103e71dd5c32e883baaca1593f0aaa62b29e512bae58d114b76bce76fad3d5"></a>_WC_TIMER_MAX&#160;</td><td class="fielddoc"><p>special value, holds the actual number of possible timers </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae3853f46f52185668538bdb25e6ccbd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3853f46f52185668538bdb25e6ccbd8">&#9670;&nbsp;</a></span>wc_context_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a>* wc_context_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwc__context__options.html">wc_context_options</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>creates a Webcom context</p>
<p>This function creates and initializes a new Webcom context using the given options. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>a pointer to a <a class="el" href="structwc__context__options.html">wc_context_options</a> structure with each field set to the desired value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the context (it's an opaque structure) </dd></dl>

</div>
</div>
<a id="ga3102ec8e7171513da15e7c154bb31ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3102ec8e7171513da15e7c154bb31ec6">&#9670;&nbsp;</a></span>wc_context_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_context_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>destoys a Webcom context</p>
<p>This function destroys a wc_context_t object that was previously allocated by the <a class="el" href="group__webcom-base.html#gae3853f46f52185668538bdb25e6ccbd8">wc_context_create()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga25ab58b8d703dc3223a9bf3a3284a03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25ab58b8d703dc3223a9bf3a3284a03d">&#9670;&nbsp;</a></span>wc_context_get_user_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* wc_context_get_user_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gets the user data associated to this context</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>some user-defined data, set in wc_context_new() </dd></dl>

</div>
</div>
<a id="ga336e7136e57b34dde65d468f99bee147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga336e7136e57b34dde65d468f99bee147">&#9670;&nbsp;</a></span>wc_dispatch_fd_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_dispatch_fd_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structwc__pollargs.html">wc_pollargs</a> *&#160;</td>
          <td class="paramname"><em>pa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>informs the SDK of some event happening on one of its file descriptors</p>
<p>This function is to be called by the event loop logic to make the Webcom SDK handle any pending event on one of its file descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context </td></tr>
    <tr><td class="paramname">pa</td><td>a pointer to a structure describing the event (file descriptor, events [WC_POLLHUP, WC_POLLIN, WC_POLLOUT], and source [WC_POLL_DATASYNC, WC_POLL_AUTH]) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga83fbc9c0172abc5ad5aa6d52d5852e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83fbc9c0172abc5ad5aa6d52d5852e85">&#9670;&nbsp;</a></span>wc_dispatch_timer_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_dispatch_timer_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__webcom-base.html#ga9d9103e71dd5c32e883baaca1593f0aa">wc_timersrc</a>&#160;</td>
          <td class="paramname"><em>timer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>informs the SDK that some timer has fired</p>
<p>You need to call this function once a timer armed because of a <b>WC_EVENT_SET_TIMER</b> event has fired. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the context </td></tr>
    <tr><td class="paramname">timer</td><td>the timer identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 18 2018 09:31:46 for Webcom C SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
