<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Webcom C SDK: General Webcom SDK functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Webcom C SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">General Webcom SDK functions<div class="ingroups"><a class="el" href="group__lolev.html">Some Webcom SDK internals</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="memitem:ga4747eb4dbc644d1ca285f2147aef80b8"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-general.html#ga4747eb4dbc644d1ca285f2147aef80b8">wc_datasync_server_time</a> (<a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *cnx)</td></tr>
<tr class="separator:ga4747eb4dbc644d1ca285f2147aef80b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab023e0ff6bb65049234f85115f5c349c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-general.html#gab023e0ff6bb65049234f85115f5c349c">wc_datasync_gen_push_id</a> (<a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *cnx, char *result)</td></tr>
<tr class="separator:gab023e0ff6bb65049234f85115f5c349c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaced59ecb8bb95c7b8e86a15d1e617b01"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-general.html#gaced59ecb8bb95c7b8e86a15d1e617b01">wc_version</a> ()</td></tr>
<tr class="separator:gaced59ecb8bb95c7b8e86a15d1e617b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab023e0ff6bb65049234f85115f5c349c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab023e0ff6bb65049234f85115f5c349c">&#9670;&nbsp;</a></span>wc_datasync_gen_push_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_datasync_gen_push_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td>
          <td class="paramname"><em>cnx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>builds a webcom push id</p>
<p>This function will write a new push id in the buffer pointed by <code>result</code>.</p>
<p>A push id is a 20-bytes string that guarantees several properties:</p><ul>
<li>all SDKs across all platform generate it using the exact same method</li>
<li>when sorted in lexicographical order, they are also sorted by chronological order of their creation, regardless of what webcom client node has generated it (the SDKs does so by computing a local to server clock offset during the webcom protocolar handshake)</li>
</ul>
<p><b>Example:</b> </p><pre class="fragment">    foo(wc_cnx_t *cnx) {
        char buf[20];
        ...
        wc_get_push_id(cnx, buf);
        printf("the id is: %20s\n", buf);
        ...
    }
</pre><dl class="section note"><dt>Note</dt><dd>the result buffer <b>will not</b> be nul-terminated</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnx</td><td>the webcom connection (it <b>MUST</b> have received the handshake from the server, and it may be currently connected or disconnected) </td></tr>
    <tr><td class="paramname">result</td><td>the address of a (minimum) 20-bytes buffer that will receive the newly created push id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4747eb4dbc644d1ca285f2147aef80b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4747eb4dbc644d1ca285f2147aef80b8">&#9670;&nbsp;</a></span>wc_datasync_server_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t wc_datasync_server_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="webcom-base_8h.html#a051343fad7858528b7f9e110354c9305">wc_context_t</a> *&#160;</td>
          <td class="paramname"><em>cnx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>gets the server time in milliseconds since 1970/1/1</p>
<p>This function returns the (estimated) time on the server, in milliseconds. It is achieved by the SDK by computing and memorizing the clock offset between the local machine and the server when establishing the connection to the Webcom server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnx</td><td>the webcom connection </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the estimated server time in milliseconds since 1970/1/1 </dd></dl>

</div>
</div>
<a id="gaced59ecb8bb95c7b8e86a15d1e617b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaced59ecb8bb95c7b8e86a15d1e617b01">&#9670;&nbsp;</a></span>wc_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* wc_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get the webcom SDK version string </p><dl class="section return"><dt>Returns</dt><dd>a string representing the version </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 18 2018 09:31:46 for Webcom C SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
