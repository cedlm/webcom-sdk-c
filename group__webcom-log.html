<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Webcom C SDK: Logging functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Webcom C SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Logging functions<div class="ingroups"><a class="el" href="group__hilev.html">Webcom SDK end-user API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf1137736b1d0591f8ad52e2cfbeb9f01"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#gaf1137736b1d0591f8ad52e2cfbeb9f01">W_LOG</a>(_facility,  _level,  _fmt, ...)</td></tr>
<tr class="separator:gaf1137736b1d0591f8ad52e2cfbeb9f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71602ded98c3bb554fe25b1a671dc96b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga71602ded98c3bb554fe25b1a671dc96b">WL_LOG</a>(_level,  _fmt, ...)&#160;&#160;&#160;<a class="el" href="group__webcom-log.html#gaf1137736b1d0591f8ad52e2cfbeb9f01">W_LOG</a>(<a class="el" href="webcom-log_8h.html#a1c6e9196d851d251823b08797eac20b7">LOCAL_LOG_FACILITY</a>, (_level), _fmt, ## __VA_ARGS__)</td></tr>
<tr class="separator:ga71602ded98c3bb554fe25b1a671dc96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56fb1baf50365266f0c7d42cc5f3f889"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga56fb1baf50365266f0c7d42cc5f3f889">APP_LOG</a>(_level,  _fmt, ...)&#160;&#160;&#160;<a class="el" href="group__webcom-log.html#gaf1137736b1d0591f8ad52e2cfbeb9f01">W_LOG</a>(<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a7ca8af9ca3ae6807aa11ebee9a8b9625">WC_LOG_APPLICATION</a>, (_level), _fmt, ## __VA_ARGS__)</td></tr>
<tr class="separator:ga56fb1baf50365266f0c7d42cc5f3f889"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gae8eef040bd4aa4305e38b5d1de5fec8c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#gae8eef040bd4aa4305e38b5d1de5fec8c">wc_log_f</a>) (const char *f, const char *l, const char *file, const char *func, int line, const char *message)</td></tr>
<tr class="separator:gae8eef040bd4aa4305e38b5d1de5fec8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga51a8493cbce3e270017d08c593b80cf9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga51a8493cbce3e270017d08c593b80cf9">wc_log_facility</a> { <br />
&#160;&#160;<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a106b3ed8cd9fd7341d83941a34975ed1">WC_LOG_WEBSOCKET</a>, 
<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a9e76e76c4e6e992a52b93cf61cd2b83c">WC_LOG_PARSER</a>, 
<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a70baab4f1ee7ed055645c10eded41f18">WC_LOG_CONNECTION</a>, 
<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a145bab61370052c8ebe3d402acfd5a76">WC_LOG_MESSAGE</a>, 
<br />
&#160;&#160;<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a6603ec5f32d7a507086a898498670353">WC_LOG_GENERAL</a>, 
<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a7ca8af9ca3ae6807aa11ebee9a8b9625">WC_LOG_APPLICATION</a>, 
<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a331426a759c3a63a8854f4acf2c28401">WC_LOG_AUTH</a>, 
<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a545ca8e11b20391750b5ee0ae2822ed6">WC_LOG_ALL</a>
<br />
 }</td></tr>
<tr class="separator:ga51a8493cbce3e270017d08c593b80cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa63c47402c81d9cd35e449e451a31854"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#gaa63c47402c81d9cd35e449e451a31854">wc_log_level</a> { <br />
&#160;&#160;<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854aa78fc224f1f7bd49a024dd9f83311c0b">WC_LOG_EMERG</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a6a1c3acbf16b437a9df1f234c7f40ba2">WC_LOG_ALERT</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a52bf15f2a47043182a8ce22ce2f8a648">WC_LOG_CRIT</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a8df84efb1531d3913175b92e02bc0904">WC_LOG_ERR</a>, 
<br />
&#160;&#160;<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854aaaf0fdfc60a92e1bd8a058a6d74dd91d">WC_LOG_WARNING</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a2eb0f829d406b3d383f0a00ef63ede55">WC_LOG_NOTICE</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854ac4e32179b2016dc24494fa91a87655ee">WC_LOG_INFO</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a3d396e4607b60c8242aa7e4674356d8f">WC_LOG_DEBUG</a>, 
<br />
&#160;&#160;<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a26cac0d364e304cf597f86a04dcd520a">WC_LOG_EXTRADEBUG</a>, 
<a class="el" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a463be8a754d68575f7dae4e9b0e49a75">WC_LOG_DISABLED</a>
<br />
 }</td></tr>
<tr class="separator:gaa63c47402c81d9cd35e449e451a31854"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga25530516b80496dfd564a0d2d93ffb86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga25530516b80496dfd564a0d2d93ffb86">wc_set_log_level</a> (enum <a class="el" href="group__webcom-log.html#ga51a8493cbce3e270017d08c593b80cf9">wc_log_facility</a> f, enum <a class="el" href="group__webcom-log.html#gaa63c47402c81d9cd35e449e451a31854">wc_log_level</a> l)</td></tr>
<tr class="separator:ga25530516b80496dfd564a0d2d93ffb86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga839430869416a29bce0279ceb1b1fa91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga839430869416a29bce0279ceb1b1fa91">wc_log_use_syslog</a> (const char *ident, int option, int facility)</td></tr>
<tr class="separator:ga839430869416a29bce0279ceb1b1fa91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe0afb67edff5ad15ac19469295e997a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#gabe0afb67edff5ad15ac19469295e997a">wc_log_use_journald</a> (void)</td></tr>
<tr class="separator:gabe0afb67edff5ad15ac19469295e997a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga580738ab227028365415c18fefaf0598"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga580738ab227028365415c18fefaf0598">wc_log_use_stderr</a> (void)</td></tr>
<tr class="separator:ga580738ab227028365415c18fefaf0598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga164476bc06f195e29753249fe6ca0bdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#ga164476bc06f195e29753249fe6ca0bdd">wc_log_use_custom</a> (<a class="el" href="group__webcom-log.html#gae8eef040bd4aa4305e38b5d1de5fec8c">wc_log_f</a> f)</td></tr>
<tr class="separator:ga164476bc06f195e29753249fe6ca0bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac30aff1ddf0008fcef621a4086f0e92c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__webcom-log.html#gac30aff1ddf0008fcef621a4086f0e92c">wc_log</a> (enum <a class="el" href="group__webcom-log.html#ga51a8493cbce3e270017d08c593b80cf9">wc_log_facility</a> f, enum <a class="el" href="group__webcom-log.html#gaa63c47402c81d9cd35e449e451a31854">wc_log_level</a> l, const char *file, const char *func, int line, const char *fmt,...) __attribute__((format(printf</td></tr>
<tr class="separator:gac30aff1ddf0008fcef621a4086f0e92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga56fb1baf50365266f0c7d42cc5f3f889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56fb1baf50365266f0c7d42cc5f3f889">&#9670;&nbsp;</a></span>APP_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_LOG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__webcom-log.html#gaf1137736b1d0591f8ad52e2cfbeb9f01">W_LOG</a>(<a class="el" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a7ca8af9ca3ae6807aa11ebee9a8b9625">WC_LOG_APPLICATION</a>, (_level), _fmt, ## __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logs a formatted message in the application's facility</p>
<p>This macro should be used by the application code using the SDK. All messages written with this macro will be routed to the <b>WC_LOG_APPLICATION</b> facility.</p>
<dl class="section remark"><dt>Remarks</dt><dd>several other macros are defined from this one to avoid specifying the log level as an argument:<ul>
<li><code>APP_EXDBG(_fmt, ...)</code></li>
<li><code>APP_DBG(_fmt, ...)</code></li>
<li><code>APP_INFO(_fmt, ...)</code></li>
<li><code>APP_NOT(_fmt, ...)</code></li>
<li><code>APP_WARN(_fmt, ...)</code></li>
<li><code>APP_ERR(_fmt, ...)</code></li>
<li><code>APP_CRIT(_fmt, ...)</code></li>
<li><code>APP_ALRT(_fmt, ...)</code></li>
<li><code>APP_EMRG(_fmt, ...)</code></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_level</td><td>the log level </td></tr>
    <tr><td class="paramname">_fmt</td><td>a <b>literal</b> format string (a newline will automatically be appended), the following arguments are the format string arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf1137736b1d0591f8ad52e2cfbeb9f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1137736b1d0591f8ad52e2cfbeb9f01">&#9670;&nbsp;</a></span>W_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define W_LOG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_facility, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__webcom-log.html#gac30aff1ddf0008fcef621a4086f0e92c">wc_log</a>((_facility), (_level), \</div><div class="line">            __FILE__, __func__, __LINE__, \</div><div class="line">            _fmt<span class="stringliteral">&quot;\n&quot;</span>, ## __VA_ARGS__)</div><div class="ttc" id="group__webcom-log_html_gac30aff1ddf0008fcef621a4086f0e92c"><div class="ttname"><a href="group__webcom-log.html#gac30aff1ddf0008fcef621a4086f0e92c">wc_log</a></div><div class="ttdeci">void wc_log(enum wc_log_facility f, enum wc_log_level l, const char *file, const char *func, int line, const char *fmt,...) __attribute__((format(printf</div></div>
</div><!-- fragment --><p>Logs a formatted message</p>
<p>This macro sends a message to the previously chosen log backend, and automatically sets the source file, line and function to the local value.</p>
<dl class="section remark"><dt>Remarks</dt><dd>several other macros are defined from this one to avoid specifying the log level as an argument:<ul>
<li><code>W_EXDBG(_facility, _fmt, ...)</code></li>
<li><code>W_DBG(_facility, _fmt, ...)</code></li>
<li><code>W_INFO(_facility, _fmt, ...)</code></li>
<li><code>W_NOT(_facility, _fmt, ...)</code></li>
<li><code>W_WARN(_facility, _fmt, ...)</code></li>
<li><code>W_ERR(_facility, _fmt, ...)</code></li>
<li><code>W_CRIT(_facility, _fmt, ...)</code></li>
<li><code>W_ALRT(_facility, _fmt, ...)</code></li>
<li><code>W_EMRG(_facility, _fmt, ...)</code></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_facility</td><td>the facility </td></tr>
    <tr><td class="paramname">_level</td><td>the log level </td></tr>
    <tr><td class="paramname">_fmt</td><td>a <b>literal</b> format string (a newline will automatically be appended), the following arguments are the format string arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga71602ded98c3bb554fe25b1a671dc96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71602ded98c3bb554fe25b1a671dc96b">&#9670;&nbsp;</a></span>WL_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WL_LOG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__webcom-log.html#gaf1137736b1d0591f8ad52e2cfbeb9f01">W_LOG</a>(<a class="el" href="webcom-log_8h.html#a1c6e9196d851d251823b08797eac20b7">LOCAL_LOG_FACILITY</a>, (_level), _fmt, ## __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logs a formatted message in the local facility</p>
<p>Helper macro to avoid manually mentioning the log facility in a compilation unit, useful if almost every log message in this unit goes to the same faciliy.</p>
<p>You must define the <b>LOCAL_LOG_FACILITY</b> macro to the desired enum wc_log_facility value <b>before</b> including <a class="el" href="webcom-log_8h.html">webcom-log.h</a> to set the local facility, otherwise <b>WC_LOG_GENERAL</b> will be used.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define LOCAL_LOG_FACILITY WC_LOG_PARSER</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="webcom_8h.html">webcom-c/webcom.h</a>&gt;</span> <span class="comment">// includes webcom-log.h</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> foo(<span class="keywordtype">void</span>) {</div><div class="line">    ...</div><div class="line">    <a class="code" href="group__webcom-log.html#ga71602ded98c3bb554fe25b1a671dc96b">WL_LOG</a>(<a class="code" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854ac4e32179b2016dc24494fa91a87655ee">WC_LOG_INFO</a>, <span class="stringliteral">&quot;Entering foo, %d&quot;</span>, 42); <span class="comment">// will be written in the WC_LOG_PARSER facility</span></div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --><dl class="section remark"><dt>Remarks</dt><dd>several other macros are defined from this one to avoid specifying the log level as an argument:<ul>
<li><code>WL_EXDBG(_fmt, ...)</code></li>
<li><code>WL_DBG(_fmt, ...)</code></li>
<li><code>WL_INFO(_fmt, ...)</code></li>
<li><code>WL_NOT(_fmt, ...)</code></li>
<li><code>WL_WARN(_fmt, ...)</code></li>
<li><code>WL_ERR(_fmt, ...)</code></li>
<li><code>WL_CRIT(_fmt, ...)</code></li>
<li><code>WL_ALRT(_fmt, ...)</code></li>
<li><code>WL_EMRG(_fmt, ...)</code></li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_level</td><td>the log level</td></tr>
    <tr><td class="paramname">_fmt</td><td>a <b>literal</b> format string (a newline will automatically be appended), the following arguments are the format string arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gae8eef040bd4aa4305e38b5d1de5fec8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae8eef040bd4aa4305e38b5d1de5fec8c">&#9670;&nbsp;</a></span>wc_log_f</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* wc_log_f) (const char *f, const char *l, const char *file, const char *func, int line, const char *message)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga51a8493cbce3e270017d08c593b80cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51a8493cbce3e270017d08c593b80cf9">&#9670;&nbsp;</a></span>wc_log_facility</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__webcom-log.html#ga51a8493cbce3e270017d08c593b80cf9">wc_log_facility</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SDK defines several facilities ("channels") in which logs can be written. This enum allows to specify to which facility a log message is targeted. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a106b3ed8cd9fd7341d83941a34975ed1"></a>WC_LOG_WEBSOCKET&#160;</td><td class="fielddoc"><p>libwebsockets logs </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a9e76e76c4e6e992a52b93cf61cd2b83c"></a>WC_LOG_PARSER&#160;</td><td class="fielddoc"><p>Webcom protocol (JSON-based) parser logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a70baab4f1ee7ed055645c10eded41f18"></a>WC_LOG_CONNECTION&#160;</td><td class="fielddoc"><p>Webcom server connection logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a145bab61370052c8ebe3d402acfd5a76"></a>WC_LOG_MESSAGE&#160;</td><td class="fielddoc"><p>Webcom messages activity logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a6603ec5f32d7a507086a898498670353"></a>WC_LOG_GENERAL&#160;</td><td class="fielddoc"><p>Other logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a7ca8af9ca3ae6807aa11ebee9a8b9625"></a>WC_LOG_APPLICATION&#160;</td><td class="fielddoc"><p>Reserved for the application's logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a331426a759c3a63a8854f4acf2c28401"></a>WC_LOG_AUTH&#160;</td><td class="fielddoc"><p>Authentication-related logs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga51a8493cbce3e270017d08c593b80cf9a545ca8e11b20391750b5ee0ae2822ed6"></a>WC_LOG_ALL&#160;</td><td class="fielddoc"><p>Special value used to set a priority on all facilities. </p>
</td></tr>
</table>

</div>
</div>
<a id="gaa63c47402c81d9cd35e449e451a31854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa63c47402c81d9cd35e449e451a31854">&#9670;&nbsp;</a></span>wc_log_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__webcom-log.html#gaa63c47402c81d9cd35e449e451a31854">wc_log_level</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This emum defines the different possible priorities for a log message. They mimic those found in syslog.h, plus two other special values </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854aa78fc224f1f7bd49a024dd9f83311c0b"></a>WC_LOG_EMERG&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_EMERG </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a6a1c3acbf16b437a9df1f234c7f40ba2"></a>WC_LOG_ALERT&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_ALERT </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a52bf15f2a47043182a8ce22ce2f8a648"></a>WC_LOG_CRIT&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_CRIT </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a8df84efb1531d3913175b92e02bc0904"></a>WC_LOG_ERR&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_ERR </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854aaaf0fdfc60a92e1bd8a058a6d74dd91d"></a>WC_LOG_WARNING&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_WARNING </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a2eb0f829d406b3d383f0a00ef63ede55"></a>WC_LOG_NOTICE&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_NOTICE </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854ac4e32179b2016dc24494fa91a87655ee"></a>WC_LOG_INFO&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_INFO </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a3d396e4607b60c8242aa7e4674356d8f"></a>WC_LOG_DEBUG&#160;</td><td class="fielddoc"><p>see syslog.h's LOG_DEBUG </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a26cac0d364e304cf597f86a04dcd520a"></a>WC_LOG_EXTRADEBUG&#160;</td><td class="fielddoc"><p>this extra debug level is for those extremely verbose and frequent messages that tend to make the logs almost unreadable </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaa63c47402c81d9cd35e449e451a31854a463be8a754d68575f7dae4e9b0e49a75"></a>WC_LOG_DISABLED&#160;</td><td class="fielddoc"><p>use this priority in <a class="el" href="group__webcom-log.html#ga25530516b80496dfd564a0d2d93ffb86">wc_set_log_level()</a> to completely disable logging in a facility </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac30aff1ddf0008fcef621a4086f0e92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac30aff1ddf0008fcef621a4086f0e92c">&#9670;&nbsp;</a></span>wc_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_log </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__webcom-log.html#ga51a8493cbce3e270017d08c593b80cf9">wc_log_facility</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__webcom-log.html#gaa63c47402c81d9cd35e449e451a31854">wc_log_level</a>&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a formatted message to the log backend</p>
<p>This function sends a message to the previously chosen log backend (default stderror). It is not meant to be used directly, but through the various <b><a class="el" href="group__webcom-log.html#gaf1137736b1d0591f8ad52e2cfbeb9f01">W_LOG()</a></b> macros and its derivatives, that automatically populates the source file, line and function arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the facility </td></tr>
    <tr><td class="paramname">l</td><td>the log level </td></tr>
    <tr><td class="paramname">file</td><td>the source code file name this log comes from </td></tr>
    <tr><td class="paramname">func</td><td>the function name </td></tr>
    <tr><td class="paramname">line</td><td>the line number in the source file </td></tr>
    <tr><td class="paramname">fmt</td><td>a printf-like format string for the log message, the following arguments are the format string arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga164476bc06f195e29753249fe6ca0bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga164476bc06f195e29753249fe6ca0bdd">&#9670;&nbsp;</a></span>wc_log_use_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_log_use_custom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__webcom-log.html#gae8eef040bd4aa4305e38b5d1de5fec8c">wc_log_f</a>&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use a custom C function as log backend</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the custom log function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabe0afb67edff5ad15ac19469295e997a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe0afb67edff5ad15ac19469295e997a">&#9670;&nbsp;</a></span>wc_log_use_journald()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_log_use_journald </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use journald as the log backend</p>
<p>After calling this functions, every log message produces by the SDK will be sent to journald using the native journald interface. The journal entries will have some additional custom properties set, when the log macros are being used, to help with filtering and diagnostic:</p>
<ul>
<li><b>CODE_FILE</b>: the C source file the log comes from</li>
<li><b>CODE_LINE</b>: the line in the source code</li>
<li><b>CODE_FUNC</b>: the function name</li>
<li><b>PRIORITY</b>: a number representing the log level (<b>WC_LOG_EMERG</b>=0, <b>WC_LOG_EXTRADEBUG</b>=8)</li>
<li><b>WC_FACILITY</b>: the facility the log was sent to </li>
</ul>

</div>
</div>
<a id="ga580738ab227028365415c18fefaf0598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga580738ab227028365415c18fefaf0598">&#9670;&nbsp;</a></span>wc_log_use_stderr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_log_use_stderr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use stderror as the log backend (default) </p>

</div>
</div>
<a id="ga839430869416a29bce0279ceb1b1fa91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga839430869416a29bce0279ceb1b1fa91">&#9670;&nbsp;</a></span>wc_log_use_syslog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_log_use_syslog </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ident</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>facility</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use syslog as the log backend</p>
<p>After calling this functions, every log message produces by the SDK will be sent to syslog. The parameters are the same as those from <b>openlog(3)</b>.</p>
<dl class="section see"><dt>See also</dt><dd>Details for options flags and facilities in <code>man 3 openlog</code>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If you switch from this backend to another backend, during the lifetime of your application, you should call <b>closelog()</b> to close the connection to syslog.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ident</td><td><em>The string pointed to by ident is prepended to every message, and is typically set to the program name. If ident is NULL, the program name is used.</em> </td></tr>
    <tr><td class="paramname">option</td><td><em>The option argument specifies flags which control the operation of openlog() and subsequent calls to syslog().</em> </td></tr>
    <tr><td class="paramname">facility</td><td><em>The facility argument establishes a default to be used if none is specified in subsequent calls to syslog().</em> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga25530516b80496dfd564a0d2d93ffb86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25530516b80496dfd564a0d2d93ffb86">&#9670;&nbsp;</a></span>wc_set_log_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wc_set_log_level </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__webcom-log.html#ga51a8493cbce3e270017d08c593b80cf9">wc_log_facility</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__webcom-log.html#gaa63c47402c81d9cd35e449e451a31854">wc_log_level</a>&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the log verbosity for a facility</p>
<p>This function allows to filter the log messages being written to a facility based on their priority (see <code>enum wc_log_level</code>).</p>
<p>All the messages whose priority is higher or equal to the one given as parameter are being logged, the other ones are being discarded. Using the special priority WC_LOG_DISABLED will discard all the logs for the facility.</p>
<p><b>Example:</b></p>
<p>After this statement is executed </p><div class="fragment"><div class="line"><a class="code" href="group__webcom-log.html#ga25530516b80496dfd564a0d2d93ffb86">wc_set_log_level</a>(<a class="code" href="group__webcom-log.html#gga51a8493cbce3e270017d08c593b80cf9a9e76e76c4e6e992a52b93cf61cd2b83c">WC_LOG_PARSER</a>, <a class="code" href="group__webcom-log.html#ggaa63c47402c81d9cd35e449e451a31854a8df84efb1531d3913175b92e02bc0904">WC_LOG_ERR</a>);</div></div><!-- fragment --><p> only the log messages with priority <b>WC_LOG_EMERG</b>, <b>WC_LOG_ALERT</b>, <b>WC_LOG_CRIT</b> and <b>WC_LOG_ERR</b> are going to show up in the logs for the <b>WC_LOG_PARSER</b> facility.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the facility </td></tr>
    <tr><td class="paramname">l</td><td>the log level (priority) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 18 2018 09:31:46 for Webcom C SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
